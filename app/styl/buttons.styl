@import "styl/colors"
@import "styl/fonts"
@import "styl/font-smoothing"
@import "styl/media-query-variables"

.button
  subpixelAntialiasedFonts()
  position relative
  text-rendering optimizeLegibility
  -webkit-tap-highlight-color transparent
  user-select none
  appearance none
  display inline-block
  cursor pointer
  border 0
  border-radius .25em
  font-size 1.125em
  line-height 1
  padding .8em 1.5em .75em
  margin 0
  text-align center
  font-family sansSerifFonts
  font-weight 300
  letter-spacing .04em
  text-indent @letter-spacing
  text-decoration none

  @media chromeAndSafariOnlyQuery
    font-weight 400

  @media chromeOnlyQuery
    font-weight 300

  &:hover
    text-decoration none

  &, &:hover
    box-shadow 0 .1875em .375em -.1875em rgba(#000, .325)

  &:hover:active
    box-shadow inset 0 .125em .375em -.125em rgba(#000, .325), inset 0 0 0 1px rgba(#000, .2)

  &:focus
    outline none

    &::before
      // `px` below to avoid `em` rounding issues
      content ""
      position absolute
      z-index 1
      top 0
      right 0
      bottom 0
      left 0
      border-radius .25em
      box-shadow 0 0 .4125em 1px brandOrange
      pointer-events none
      opacity .75
      transition opacity .3s ease-in-out

    &:active::before
      opacity 0

  &.primary
    background brandOrange
    color #fff

  &.secondary
    background #fff
    color currentColor

  &.twitter-share
    display inline-block
    color #fff
    background brandBlue
    padding-right 1.1em
    padding-left 0
    text-decoration none
    letter-spacing normal

    &:hover
      color #fff
      background darken(brandBlue, 18%)

    svg
      fill currentColor
      display inline-block
      height 1em
      width 1em
      vertical-align middle
      margin 0 0.65em 0 0.88em
      position relative
      top -.15em

  &[disabled]
    background #ccc
    color #888
    opacity .7
    cursor default

    &, &:hover, &:focus, &:focus:hover
      box-shadow none !important
